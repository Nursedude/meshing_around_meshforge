[flake8]
max-line-length = 120
max-complexity = 15
exclude =
    .git,
    __pycache__,
    .pytest_cache,
    .venv,
    venv
# W503: line break before binary operator (conflicts with black)
# E203: whitespace before ':' (conflicts with black)
extend-ignore = W503,E203
per-file-ignores =
    # Complex methods: route registration, deserialization, packet processing
    meshing_around_clients/web/app.py:C901
    meshing_around_clients/core/models.py:C901
    meshing_around_clients/core/mqtt_client.py:C901
    # Entry points: complex main() functions, intentional fallback imports
    mesh_client.py:C901,F401
    configure_bot.py:C901,F811,F401,F541,F841
    # Tests use sys.path.insert (E402) and may have unused imports for setup (F401)
    tests/*.py:E402,F401,F841,C901
